# MediaNest E2E Test Environment Configuration

# Base URLs
BASE_URL=http://localhost:3000
API_BASE_URL=http://localhost:3001
BACKEND_URL=http://localhost:3001

# Test User Credentials
TEST_USER_EMAIL=test@medianest.local
TEST_USER_PASSWORD=testpassword123
TEST_ADMIN_EMAIL=admin@medianest.local
TEST_ADMIN_PASSWORD=adminpassword123

# Database Configuration (for test data seeding)
TEST_DATABASE_URL=postgresql://testuser:testpass@localhost:5432/medianest_test
TEST_REDIS_URL=redis://localhost:6379/1

# Plex Configuration (for integration testing)
PLEX_SERVER_URL=http://localhost:32400
PLEX_TOKEN=test_plex_token_here
PLEX_CLIENT_ID=medianest-test-client

# Test Configuration
NODE_ENV=test
SKIP_SERVER_START=false
PLAYWRIGHT_WORKERS=2
PLAYWRIGHT_RETRIES=1

# Visual Regression Testing
VISUAL_THRESHOLD=0.2
SCREENSHOT_MODE=pixel
UPDATE_SNAPSHOTS=false

# Accessibility Testing
A11Y_THRESHOLD=0
A11Y_TAGS=wcag2a,wcag2aa,wcag21aa

# Performance Testing
PERFORMANCE_BUDGET_LOAD_TIME=5000
PERFORMANCE_BUDGET_FCP=2000
PERFORMANCE_BUDGET_LCP=4000

# API Testing
API_TIMEOUT=30000
API_RETRIES=3
API_RATE_LIMIT_REQUESTS=100
API_RATE_LIMIT_WINDOW=60000

# Browser Configuration
HEADLESS=true
BROWSER_TIMEOUT=30000
NAVIGATION_TIMEOUT=30000
ACTION_TIMEOUT=15000

# Test Data Configuration
TEST_DATA_SEED=true
TEST_DATA_CLEANUP=true
TEST_DATA_BACKUP=true

# Reporting Configuration
ALLURE_RESULTS_DIR=./.medianest-e2e/reports/allure-results
HTML_REPORT_DIR=./.medianest-e2e/reports/html
JUNIT_REPORT_PATH=./.medianest-e2e/reports/junit/results.xml

# CI/CD Configuration
CI=false
GITHUB_ACTIONS=false
GITLAB_CI=false
JENKINS=false

# Debug Configuration
DEBUG=false
VERBOSE_LOGGING=false
SAVE_TRACE=on-first-retry
SAVE_VIDEO=retain-on-failure
SAVE_SCREENSHOTS=only-on-failure

# Network Configuration
NETWORK_IDLE_TIMEOUT=30000
REQUEST_TIMEOUT=30000
RESPONSE_TIMEOUT=30000

# Security Testing
SECURITY_SCAN=false
OWASP_ZAP_URL=http://localhost:8080
SECURITY_REPORT_PATH=./.medianest-e2e/reports/security

# Load Testing
LOAD_TESTING=false
LOAD_TEST_USERS=10
LOAD_TEST_DURATION=60

# Email Testing (for notifications)
TEST_EMAIL_SMTP_HOST=localhost
TEST_EMAIL_SMTP_PORT=1025
TEST_EMAIL_USER=test@medianest.local
TEST_EMAIL_PASS=testpass

# File Upload Testing
UPLOAD_TEST_FILES_PATH=./.medianest-e2e/fixtures/uploads
MAX_UPLOAD_SIZE=10485760

# External Service Configuration
YOUTUBE_DL_PATH=/usr/local/bin/youtube-dl
FFMPEG_PATH=/usr/local/bin/ffmpeg

# Monitoring and Analytics
ANALYTICS_DISABLED=true
MONITORING_DISABLED=true
SENTRY_DSN=""

# Feature Flags (for testing different features)
FEATURE_PLEX_INTEGRATION=true
FEATURE_YOUTUBE_DOWNLOAD=true
FEATURE_USER_REQUESTS=true
FEATURE_ADMIN_PANEL=true
FEATURE_NOTIFICATIONS=true

# Test Tags (for selective test execution)
RUN_SMOKE_TESTS=true
RUN_REGRESSION_TESTS=true
RUN_VISUAL_TESTS=true
RUN_A11Y_TESTS=true
RUN_PERFORMANCE_TESTS=false
RUN_API_TESTS=true
RUN_SECURITY_TESTS=false

# Parallel Execution
PARALLEL_WORKERS=2
SHARD_TOTAL=1
SHARD_INDEX=1

# Test Timeout Configuration
GLOBAL_TIMEOUT=300000
TEST_TIMEOUT=60000
EXPECT_TIMEOUT=15000
NAVIGATION_TIMEOUT=45000

# Browser Context Configuration
IGNORE_HTTPS_ERRORS=true
BYPASS_CSP=false
LOCALE=en-US
TIMEZONE=America/New_York
VIEWPORT_WIDTH=1280
VIEWPORT_HEIGHT=720

# Storage State Configuration
STORAGE_STATE_PATH=./.medianest-e2e/fixtures/auth/authenticated-user.json
ADMIN_STORAGE_STATE_PATH=./.medianest-e2e/fixtures/auth/admin-user.json

# Custom Test Configuration
CUSTOM_TEST_CONFIG_PATH=./.medianest-e2e/config/custom-config.json
CUSTOM_SELECTORS_PATH=./.medianest-e2e/config/selectors.json

# Docker Configuration (for containerized testing)
DOCKER_COMPOSE_FILE=docker-compose.test.yml
DOCKER_NETWORK=medianest_test_network

# Third-party Services
TMDB_API_KEY=test_tmdb_key
SONARR_URL=http://localhost:8989
SONARR_API_KEY=test_sonarr_key
RADARR_URL=http://localhost:7878
RADARR_API_KEY=test_radarr_key