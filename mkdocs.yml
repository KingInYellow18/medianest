# MkDocs Configuration for MediaNest - Professional Documentation Platform
site_name: MediaNest Documentation
site_url: https://kinginyellow.github.io/medianest/  # GitHub Pages URL
site_author: MediaNest Development Team
site_description: Complete documentation for MediaNest - Advanced Media Management Platform with Plex Integration, API, and Developer Resources

# Repository Configuration
repo_name: kinginyellow/medianest
repo_url: https://github.com/kinginyellow/medianest
edit_uri: edit/develop/docs/
remote_branch: develop
remote_name: origin

# Copyright and Legal
copyright: >
  Copyright &copy; 2024 MediaNest Development Team -
  <a href="#__consent">Manage Cookies</a> |
  <a href="/privacy">Privacy Policy</a> |
  <a href="/terms">Terms of Service</a>

# Theme Configuration
theme:
  name: material

  # Color Scheme
  palette:
    # Palette toggle for light mode
    - scheme: default
      primary: deep purple
      accent: purple
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode

    # Palette toggle for dark mode
    - scheme: slate
      primary: deep purple
      accent: purple
      toggle:
        icon: material/brightness-4
        name: Switch to light mode

  # Enhanced Features for Professional Documentation Platform
  features:
    # Announcements and content actions
    - announce.dismiss
    - content.action.edit
    - content.action.view
    - content.code.annotate
    - content.code.copy
    - content.code.select
    - content.footnote.tooltips
    - content.tabs.link
    - content.tooltips
    
    # Header and navigation enhancements
    - header.autohide
    - navigation.expand
    - navigation.footer
    - navigation.indexes
    - navigation.instant
    - navigation.instant.prefetch
    - navigation.instant.progress
    - navigation.path
    - navigation.prune
    - navigation.sections
    - navigation.tabs
    - navigation.tabs.sticky
    - navigation.top
    - navigation.tracking
    
    # Enhanced search capabilities
    - search.highlight
    - search.share
    - search.suggest
    
    # Table of contents improvements
    - toc.follow
    - toc.integrate

  # Branding Assets
  logo: assets/images/logo.svg
  favicon: assets/images/favicon.ico

  # Language
  language: en

  # Font
  font:
    text: Roboto
    code: Roboto Mono

# Navigation
nav:
  - Home: index.md
  - Getting Started:
      - getting-started/index.md
      - Quick Start: getting-started/quickstart.md
      - Development Setup: getting-started/development-setup.md
  - Architecture:
      - Component Architecture: architecture/component-architecture.md
      - Data Flow: architecture/data-flow.md
      - System Overview: architecture/system-overview.md
      - Architecture Decisions:
        - ADR-001 Architecture: architecture/decisions/adr-001-architecture.md
  - API Reference:
      - Overview: api/overview.md
      - WebSocket API: api/websocket.md
      - Endpoints:
        - Dashboard: api/endpoints/dashboard.md
        - Media: api/endpoints/media.md
        - Plex: api/endpoints/plex.md
  - Operations:
      - Monitoring Stack: operations/monitoring-stack.md
      - Alert Runbooks: operations/runbooks/alert-runbooks.md
      - Staging Deployment:
        - Deployment Guide: operations/staging-deployment.md
        - Prerequisites: operations/staging-prerequisites.md
        - Troubleshooting: operations/staging-troubleshooting.md
        - Critical Fixes Applied: operations/critical-fixes-applied.md
  - Deployment:
      - CI/CD: deployment/ci-cd.md
  - Developers:
      - Contributing: developers/contributing.md
      - Workflow: developers/workflow.md
  - Visuals:
      - Database Schema: visuals/database-schema.md
      - Deployment Architecture: visuals/deployment-architecture.md
      - System Flow: visuals/system-flow.md
  - Standards:
      - Documentation Checklist: standards/documentation-checklist.md

# Enhanced Plugins Configuration - Professional Documentation Platform
plugins:
  # Advanced search with enhanced capabilities
  - search:
      separator: '[\s\-,:!=\[\]()"`/]+|\.(?!\d)|&[lg]t;|(?!\b)(?=[A-Z][a-z])'
      lang:
        - en
      
  # Enhanced tags system (requires mkdocs-material[tags])
  # - tags:
  #     tags_file: tags.md
      
  # Social card generation (requires mkdocs-material[social])
  # - social:
  #     cards: true
  #     cards_layout_options:
  #       background_color: '#f3e5f5'
  #       color: '#673ab7'
      
  # Enhanced minification
  - minify:
      minify_html: true
      minify_js: true
      minify_css: true
      htmlmin_opts:
        remove_comments: true
        remove_empty_space: true
        remove_optional_attribute_quotes: false
        reduce_empty_attributes: true
        collapse_whitespace: true
        remove_redundant_attributes: true
        
  # Privacy plugin (requires mkdocs-material[privacy])
  # - privacy:
  #     enabled: true
      
  # Git integration for enhanced content management
  - git-revision-date-localized:
      type: timeago
      timezone: UTC
      locale: en
      fallback_to_build_date: true
      enable_creation_date: true
      enable_git_follow: true
      exclude:
        - index.md
        - tags.md
        
  # Git committers (requires mkdocs-git-committers-plugin-2)
  # - git-committers:
  #     repository: kinginyellow/medianest
  #     branch: develop
      
  # Automatic redirects (requires mkdocs-redirects)
  # - redirects:
  #     redirect_maps: {}

# Markdown Extensions
markdown_extensions:
  - abbr
  - admonition
  - attr_list
  - def_list
  - footnotes
  - md_in_html
  - tables
  - toc:
      permalink: true
      title: On this page
      baselevel: 1
      separator: "-"
  - pymdownx.arithmatex:
      generic: true
  - pymdownx.betterem:
      smart_enable: all
  - pymdownx.caret
  - pymdownx.critic:
      mode: view
  - pymdownx.details
  - pymdownx.emoji
  - pymdownx.highlight:
      anchor_linenums: true
      line_spans: __span
      pygments_lang_class: true
      auto_title: true
      linenums: true
  - pymdownx.inlinehilite
  - pymdownx.keys
  - pymdownx.magiclink:
      repo_url_shorthand: true
      user: kinginyellow
      repo: medianest
      normalize_issue_symbols: true
  - pymdownx.mark
  - pymdownx.smartsymbols
  - pymdownx.snippets:
      check_paths: true
      base_path: 
        - docs/snippets
        - .
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
  - pymdownx.tabbed:
      alternate_style: true
  - pymdownx.tasklist:
      custom_checkbox: true
      clickable_checkbox: true
  - pymdownx.tilde

# Enhanced Assets and Scripts
extra_css:
  - stylesheets/extra.css
  - stylesheets/medianest-theme.css
  - stylesheets/material-enhancements.css
  - stylesheets/animations.css
  - stylesheets/responsive.css
  - stylesheets/diagram-styles.css
  - stylesheets/api-docs.css
  - stylesheets/code-highlights.css
  - stylesheets/mermaid-custom.css

extra_javascript:
  - javascripts/extra.js
  - javascripts/medianest.js
  - javascripts/search-enhancements.js
  - javascripts/api-explorer.js
  - javascripts/mermaid-config.js
  - https://polyfill.io/v3/polyfill.min.js?features=es6
  - https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js
  - https://unpkg.com/mermaid@10/dist/mermaid.min.js
  - https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui-bundle.js

# Extended Configuration & Integrations
extra:
  # Version management with Mike
  version:
    provider: mike
    default: latest
    alias: true
    
  # Enhanced social links with proper branding
  social:
    - icon: fontawesome/brands/github
      link: https://github.com/kinginyellow/medianest
      name: GitHub Repository
    - icon: fontawesome/brands/docker
      link: https://hub.docker.com/r/medianest/medianest
      name: Docker Hub
    - icon: fontawesome/brands/discord
      link: https://discord.gg/medianest
      name: Discord Community
    - icon: fontawesome/brands/twitter
      link: https://twitter.com/medianest
      name: Twitter Updates
    - icon: fontawesome/solid/globe
      link: https://medianest.com
      name: Official Website
    - icon: fontawesome/solid/book
      link: https://kinginyellow.github.io/medianest/
      name: Documentation
      
  # Enhanced analytics and feedback system
  analytics:
    provider: google
    property: G-XXXXXXXXXX  # Replace with actual Google Analytics ID
    feedback:
      title: Was this page helpful?
      ratings:
        - icon: material/emoticon-happy-outline
          name: This page was helpful
          data: 1
          note: >-
            Thanks for your feedback! Consider starring us on 
            <a href="https://github.com/kinginyellow/medianest" target="_blank" rel="noopener">GitHub</a>
            and sharing with the community.
        - icon: material/emoticon-sad-outline
          name: This page could be improved
          data: 0
          note: >-
            Thanks for your feedback! Help us improve by
            <a href="https://github.com/kinginyellow/medianest/issues/new/?title=[Docs]+{title}+-+{url}" target="_blank" rel="noopener">creating an issue</a>
            or <a href="https://github.com/kinginyellow/medianest/edit/develop/docs/{path}" target="_blank" rel="noopener">editing this page</a>.
            
  # Tags configuration
  tags:
    API: api
    Docker: docker
    Setup: setup
    Configuration: config
    Security: security
    Performance: performance
    Tutorial: tutorial
    Reference: reference
    
  # Status indicators for content
  status:
    new: Recently added
    deprecated: Deprecated
    beta: Beta feature
    stable: Stable
    experimental: Experimental
    
  # Enhanced consent management
  consent:
    title: Cookie consent
    description: >-
      We use cookies to recognize your repeated visits and preferences, as well
      as to measure the effectiveness of our documentation and whether users
      find what they're searching for. With your consent, you're helping us to
      make our documentation better.
    actions:
      - accept
      - reject
      - manage
    cookies:
      analytics:
        name: Google Analytics
        checked: false
      github:
        name: GitHub
        checked: false
        
  # Enhanced homepage features
  homepage: https://kinginyellow.github.io/medianest/
  
  # Generator attribution
  generator: false
  
  # Custom variables for templates
  medianest:
    version: "2.0.0"
    github_repo: "kinginyellow/medianest"
    docker_image: "medianest/medianest"
    api_base_url: "https://api.medianest.com"
    demo_url: "https://demo.medianest.com"

# Validation
validation:
  nav:
    omitted_files: info
    not_found: warn
    absolute_links: info
  links:
    not_found: ignore
    absolute_links: ignore
    unrecognized_links: ignore

# Watch
watch:
  - docs/
  - mkdocs.yml
