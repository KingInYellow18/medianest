#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Format commit message if it contains formatting indicators
COMMIT_MSG_FILE=$1
COMMIT_MSG=$(cat $COMMIT_MSG_FILE)

# If commit message starts with "format:" run additional checks
if echo "$COMMIT_MSG" | grep -q "^format:"; then
  echo "üé® Formatting commit detected - running comprehensive format check..."
  
  # Run a quick format check on recently modified files
  if ! node scripts/prettier-dev-mode.js check src/; then
    echo "‚ö†Ô∏è  Format issues detected in src/ directory"
    echo "Run 'npm run format:dev src/' to fix"
  fi
fi
