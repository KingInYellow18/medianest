# Environment Configuration for MediaNest
# Copy this file to .env and update with your values
# 
# Quick setup:
# 1. cp .env.example .env
# 2. npm run generate-secrets
# 3. Get Plex OAuth credentials from https://www.plex.tv/api/v2/pins
# 4. Update PLEX_CLIENT_ID and PLEX_CLIENT_SECRET below

# Application Configuration
NODE_ENV=development
PORT=3000
BACKEND_PORT=4000

# Database
DATABASE_URL=postgresql://medianest:medianest_password@localhost:5432/medianest?connection_limit=20&pool_timeout=30

# Database Configuration (for Docker Compose)
POSTGRES_DB=medianest
POSTGRES_USER=medianest
POSTGRES_PASSWORD=medianest_password

# Redis Configuration
# Option 1: Use full Redis URL (recommended for Docker)
REDIS_URL=redis://redis:6379
# Option 2: Use individual components (for local development)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
# Note: Use either REDIS_URL OR the individual REDIS_* variables, not both

# NextAuth Configuration
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=# Generate with: openssl rand -hex 32

# JWT Configuration (Backend Authentication)
JWT_SECRET=# Auto-generated by backend if not provided
JWT_ISSUER=medianest
JWT_AUDIENCE=medianest-users

# Plex OAuth (Get from https://www.plex.tv/api/v2/pins)
PLEX_CLIENT_ID=MediaNest
PLEX_CLIENT_SECRET=# Your Plex client secret

# Frontend Configuration
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:4000
FRONTEND_URL=http://localhost:3000

# YouTube Downloads
YOUTUBE_DOWNLOAD_PATH=/app/youtube
YOUTUBE_RATE_LIMIT=5

# Admin Bootstrap (first run only)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin

# Encryption key for service secrets (Generate with: openssl rand -hex 32)
ENCRYPTION_KEY=# Will be generated by npm run generate-secrets

# Logging
LOG_LEVEL=info

# External Services (configured via Admin UI after deployment)
# These are just examples - actual configuration happens in the admin panel
# PLEX_SERVER_URL=http://your-plex-server:32400
# OVERSEERR_URL=http://your-overseerr:5055
# OVERSEERR_API_KEY=your-api-key
# UPTIME_KUMA_URL=http://your-uptime-kuma:3001
# UPTIME_KUMA_TOKEN=your-token