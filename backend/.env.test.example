# Test Environment Configuration for MediaNest Backend

# Environment
NODE_ENV=test

# Database Configuration
# Use a separate test database to avoid interfering with development data
DATABASE_URL=postgresql://test:test@localhost:5432/medianest_test

# Redis Configuration
# Use a different Redis database number for testing
REDIS_URL=redis://localhost:6379/1

# JWT Configuration
# Use a different secret for testing
JWT_SECRET=test-jwt-secret-key-for-testing-only-do-not-use-in-production

# Server Configuration
PORT=0  # Let the system assign a random port for testing

# File Upload Configuration (for testing)
MEDIA_BASE_URL=https://test.medianest.com
UPLOAD_PATH=/tmp/medianest-test-uploads
MAX_FILE_SIZE=10485760  # 10MB

# External Services (use test/mock endpoints)
EMAIL_SERVICE_URL=https://api.test-email.com
EMAIL_API_KEY=test-email-api-key

# Rate Limiting (more lenient for testing)
RATE_LIMIT_WINDOW_MS=60000  # 1 minute
RATE_LIMIT_MAX=100  # 100 requests per minute

# Logging
LOG_LEVEL=error  # Reduce log noise during testing

# Session Configuration
SESSION_SECRET=test-session-secret-for-testing-only

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# Features Flags (for testing different configurations)
FEATURE_SOCIAL_SHARING=true
FEATURE_COMMENTS=true
FEATURE_NOTIFICATIONS=true
FEATURE_REAL_TIME=false  # Disable WebSocket for simpler testing

# Test-specific Configuration
TEST_USER_EMAIL=test@medianest.com
TEST_USER_PASSWORD=password123
TEST_ADMIN_EMAIL=admin@medianest.com
TEST_ADMIN_PASSWORD=admin123

# Debugging
DEBUG=false
VERBOSE_LOGS=false