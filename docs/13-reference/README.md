# Technical Reference\n\nComplete technical reference documentation for MediaNest.\n\n## Overview\n\nThis section provides detailed technical reference information including error codes, configuration options, API schemas, and other reference materials.\n\n## Reference Documentation\n\n### Error Reference\n- [Error Codes](./error-codes.md) - Complete error code reference\n- [HTTP Status Codes](./http-status-codes.md) - API response status codes\n- [Validation Errors](./validation-errors.md) - Input validation error formats\n- [System Errors](./system-errors.md) - Infrastructure error reference\n\n### API Reference\n- [OpenAPI Schema](./openapi-schema.md) - Complete OpenAPI 3.0 specification\n- [Request/Response Schemas](./schemas.md) - Data structure definitions\n- [Authentication Flows](./auth-flows.md) - Authentication flow diagrams\n- [Rate Limiting](./rate-limiting.md) - API rate limiting reference\n\n### Configuration Reference\n- [Environment Variables](./environment-variables.md) - Complete environment variable reference\n- [Configuration Files](./configuration-files.md) - All configuration file formats\n- [Database Schema](./database-schema.md) - Complete database schema reference\n- [Docker Configuration](./docker-reference.md) - Container configuration reference\n\n### Development Reference\n- [Code Standards](./code-standards.md) - Coding standards and conventions\n- [Testing Patterns](./testing-patterns.md) - Testing implementation patterns\n- [Architecture Patterns](./architecture-patterns.md) - Design pattern reference\n- [Performance Benchmarks](./performance-benchmarks.md) - Performance targets and metrics\n\n## Quick Reference Tables\n\n### Common Error Codes\n\n| Code | HTTP Status | Description | Resolution |\n|------|-------------|-------------|------------|\n| `PLEX_UNREACHABLE` | 503 | Cannot connect to Plex server | Check network connectivity |\n| `DATABASE_CONNECTION_ERROR` | 500 | Database connection failed | Verify database is running |\n| `JWT_INVALID` | 401 | Invalid JWT token | Refresh token or re-authenticate |\n| `RATE_LIMITED` | 429 | Too many requests | Wait before retrying |\n| `VALIDATION_ERROR` | 400 | Request validation failed | Check request format |\n| `CSRF_TOKEN_MISMATCH` | 403 | CSRF token invalid | Include valid CSRF token |\n\n### Environment Variables\n\n| Variable | Type | Required | Default | Description |\n|----------|------|----------|---------|-------------|\n| `DATABASE_URL` | string | Yes | - | PostgreSQL connection string |\n| `REDIS_URL` | string | Yes | - | Redis connection string |\n| `JWT_SECRET` | string | Yes | - | JWT signing secret |\n| `PLEX_CLIENT_ID` | string | Yes | - | Plex application client ID |\n| `PORT` | number | No | 3001 | Server port |\n| `NODE_ENV` | string | No | development | Node.js environment |\n| `LOG_LEVEL` | string | No | info | Logging level |\n| `CORS_ORIGIN` | string | No | \* | CORS allowed origins |\n\n### API Endpoints Summary\n\n| Endpoint | Method | Auth | Description |\n|----------|--------|------|-------------|\n| `/api/health` | GET | No | System health check |\n| `/api/auth/plex/pin` | POST | No | Generate Plex PIN |\n| `/api/auth/plex/verify` | POST | No | Verify Plex PIN |\n| `/api/auth/me` | GET | Yes | Get current user |\n| `/api/auth/logout` | POST | Yes | Logout user |\n| `/api/media/search` | GET | Yes | Search media |\n| `/api/media/request` | POST | Yes | Request media |\n| `/api/admin/users` | GET | Admin | List all users |\n\n### Database Tables\n\n| Table | Purpose | Key Relations |\n|-------|---------|---------------|\n| `users` | User accounts | - |\n| `media_requests` | Media requests | `users.id` |\n| `sessions` | User sessions | `users.id` |\n| `audit_logs` | Activity logs | `users.id` |\n| `system_config` | System settings | - |\n\n### Docker Services\n\n| Service | Image | Purpose | Ports |\n|---------|-------|---------|-------|\n| `frontend` | Custom | React frontend | 3000 |\n| `backend` | Custom | Express API | 3001 |\n| `postgres` | postgres:14-alpine | Database | 5432 |\n| `redis` | redis:6-alpine | Cache/sessions | 6379 |\n| `nginx` | nginx:alpine | Reverse proxy | 80, 443 |\n\n## Schema Definitions\n\n### User Schema\n\n`typescript\ninterface User {\n  id: string;\n  email: string;\n  username: string;\n  role: 'admin' | 'user';\n  plexId?: string;\n  createdAt: string;\n  updatedAt: string;\n}\n`\n\n### Media Request Schema\n\n`typescript\ninterface MediaRequest {\n  id: string;\n  userId: string;\n  mediaType: 'movie' | 'tv';\n  tmdbId: number;\n  title: string;\n  status: 'pending' | 'approved' | 'declined';\n  requestedAt: string;\n  processedAt?: string;\n}\n`\n\n### API Response Schema\n\n`typescript\ninterface ApiResponse<T> {\n  success: boolean;\n  data?: T;\n  error?: {\n    code: string;\n    message: string;\n    details?: any;\n  };\n  pagination?: {\n    page: number;\n    limit: number;\n    total: number;\n    hasNext: boolean;\n    hasPrev: boolean;\n  };\n}\n`\n\n## Performance Targets\n\n### Response Time Targets\n\n| Endpoint | Target (p95) | Current |\n|----------|--------------|----------|\n| Health Check | < 10ms | TBD |\n| Authentication | < 200ms | TBD |\n| Media Search | < 500ms | TBD |\n| User Operations | < 100ms | TBD |\n| Database Queries | < 50ms | TBD |\n\n### Resource Targets\n\n| Resource | Target | Limit |\n|----------|--------|-----------|\n| Memory Usage | < 512MB | 1GB |\n| CPU Usage | < 50% | 100% |\n| Disk Usage | < 80% | 95% |\n| Connection Pool | 20 | 100 |\n\n## Security Reference\n\n### Security Headers\n\n`http\nStrict-Transport-Security: max-age=31536000; includeSubDomains\nX-Content-Type-Options: nosniff\nX-Frame-Options: DENY\nX-XSS-Protection: 1; mode=block\nReferrer-Policy: strict-origin-when-cross-origin\nContent-Security-Policy: default-src 'self'\n`\n\n### JWT Token Structure\n\n`json\n{\n  \"header\": {\n    \"alg\": \"HS256\",\n    \"typ\": \"JWT\"\n  },\n  \"payload\": {\n    \"sub\": \"user-id\",\n    \"email\": \"user@example.com\",\n    \"role\": \"user\",\n    \"iat\": 1640995200,\n    \"exp\": 1643587200\n  }\n}\n`\n\n### Password Requirements\n\n- Minimum 8 characters\n- At least 1 uppercase letter\n- At least 1 lowercase letter \n- At least 1 number\n- At least 1 special character\n- Not a common password\n- Not similar to username/email\n\n## Troubleshooting Quick Reference\n\n### Common Commands\n\n`bash\n# Check service status\ndocker-compose ps\n\n# View logs\ndocker-compose logs -f service_name\n\n# Restart service\ndocker-compose restart service_name\n\n# Check database connectivity\ndocker-compose exec postgres pg_isready\n\n# Check API health\ncurl -f http://localhost:3001/api/health\n\n# Check disk space\ndf -h\n\n# Check memory usage\nfree -h\n\n# Check process usage\ntop\n`\n\n### Log Locations\n\n| Service | Log Location | Format |\n|---------|--------------|--------|\n| Backend | `docker-compose logs backend` | JSON |\n| Frontend | `docker-compose logs frontend` | Text |\n| PostgreSQL | `docker-compose logs postgres` | Text |\n| Redis | `docker-compose logs redis` | Text |\n| NGINX | `/var/log/nginx/` | Combined |\n\n## Version Compatibility\n\n### Supported Versions\n\n| Component | Minimum | Recommended | Latest Tested |\n|-----------|---------|-------------|---------------|\n| Node.js | 18.0 | 18.19 LTS | 20.10 |\n| PostgreSQL | 12.0 | 14.0 | 15.0 |\n| Redis | 6.0 | 6.2 | 7.0 |\n| Docker | 20.10 | 23.0 | 24.0 |\n| Docker Compose | 2.0 | 2.20 | 2.23 |\n\n### Browser Support\n\n| Browser | Minimum Version |\n|---------|-----------------|\n| Chrome | 90+ |\n| Firefox | 88+ |\n| Safari | 14+ |\n| Edge | 90+ |\n\n## Related Documentation\n\n- [API Reference](../03-api-reference/README.md) - Detailed API documentation\n- [Implementation Guides](../04-implementation-guides/README.md) - Implementation examples\n- [Configuration Guide](../09-configuration/README.md) - Configuration details\n- [Troubleshooting](../10-troubleshooting/README.md) - Problem resolution"}]
