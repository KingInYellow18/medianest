{% extends "base.html" %}

{% block content %}
<div class="medianest-404-page" style="
  text-align: center;
  padding: 4rem 2rem;
  min-height: 60vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
">
  <!-- 404 Illustration -->
  <div class="medianest-404-illustration" style="margin-bottom: 2rem;">
    <svg width="200" height="150" viewBox="0 0 200 150" fill="none" xmlns="http://www.w3.org/2000/svg">
      <!-- Sad folder icon -->
      <path d="M40 40h40l10-10h70v80H40V40z" fill="var(--mn-brand-primary, #673ab7)" opacity="0.2"/>
      <path d="M40 40h40l10-10h70v80H40V40z" stroke="var(--mn-brand-primary, #673ab7)" stroke-width="2" fill="none"/>
      
      <!-- Sad face -->
      <circle cx="100" cy="80" r="30" fill="var(--mn-brand-secondary, #9c27b0)" opacity="0.1"/>
      <circle cx="90" cy="75" r="3" fill="var(--mn-brand-primary, #673ab7)"/>
      <circle cx="110" cy="75" r="3" fill="var(--mn-brand-primary, #673ab7)"/>
      <path d="M85 90 Q100 85 115 90" stroke="var(--mn-brand-primary, #673ab7)" stroke-width="2" fill="none"/>
      
      <!-- Search magnifier -->
      <circle cx="140" cy="50" r="15" fill="none" stroke="var(--mn-brand-accent, #e1bee7)" stroke-width="3"/>
      <path d="M152 62L165 75" stroke="var(--mn-brand-accent, #e1bee7)" stroke-width="3" stroke-linecap="round"/>
    </svg>
  </div>
  
  <!-- 404 Content -->
  <h1 style="
    font-size: 4rem;
    color: var(--mn-brand-primary, #673ab7);
    margin-bottom: 1rem;
    font-weight: 800;
  ">404</h1>
  
  <h2 style="
    font-size: 1.5rem;
    margin-bottom: 1rem;
    color: var(--md-default-fg-color);
  ">Page Not Found</h2>
  
  <p style="
    font-size: 1.1rem;
    margin-bottom: 2rem;
    color: var(--md-default-fg-color--light);
    max-width: 500px;
    line-height: 1.6;
  ">
    Sorry, we couldn't find the page you're looking for. 
    It might have been moved, deleted, or you entered the wrong URL.
  </p>
  
  <!-- Search suggestion -->
  <div class="medianest-404-search" style="margin-bottom: 2rem; width: 100%; max-width: 400px;">
    <p style="margin-bottom: 1rem; color: var(--md-default-fg-color--light);">
      Try searching for what you need:
    </p>
    
    <div style="position: relative;">
      <input type="text" 
             id="error-search-input"
             placeholder="Search documentation..."
             style="
               width: 100%;
               padding: 0.75rem 1rem 0.75rem 3rem;
               border: 2px solid var(--mn-brand-primary, #673ab7);
               border-radius: 2rem;
               font-size: 1rem;
               background: var(--md-default-bg-color);
               color: var(--md-default-fg-color);
             ">
      
      <svg style="
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        width: 1.2rem;
        height: 1.2rem;
        opacity: 0.5;
      " fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
    </div>
  </div>
  
  <!-- Helpful links -->
  <div class="medianest-404-links" style="
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 2rem;
  ">
    <a href="/" class="md-button md-button--primary" style="
      background: var(--mn-brand-primary, #673ab7);
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      text-decoration: none;
      font-weight: 600;
    ">
      <svg style="width: 1rem; height: 1rem; margin-right: 0.5rem; vertical-align: -0.1em;" fill="currentColor" viewBox="0 0 20 20">
        <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
      </svg>
      Go Home
    </a>
    
    <a href="/getting-started/" class="md-button" style="
      border: 2px solid var(--mn-brand-primary, #673ab7);
      color: var(--mn-brand-primary, #673ab7);
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      text-decoration: none;
      font-weight: 600;
      background: transparent;
    ">
      <svg style="width: 1rem; height: 1rem; margin-right: 0.5rem; vertical-align: -0.1em;" fill="currentColor" viewBox="0 0 20 20">
        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      Getting Started
    </a>
    
    <a href="/api/" class="md-button" style="
      border: 2px solid var(--mn-brand-primary, #673ab7);
      color: var(--mn-brand-primary, #673ab7);
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      text-decoration: none;
      font-weight: 600;
      background: transparent;
    ">
      <svg style="width: 1rem; height: 1rem; margin-right: 0.5rem; vertical-align: -0.1em;" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
      </svg>
      API Docs
    </a>
  </div>
  
  <!-- Popular pages -->
  <div class="medianest-404-popular" style="
    background: var(--md-code-bg-color, #f5f5f5);
    border-radius: 0.5rem;
    padding: 1.5rem;
    max-width: 600px;
    width: 100%;
  ">
    <h3 style="
      margin-bottom: 1rem;
      color: var(--md-default-fg-color);
      font-size: 1.1rem;
    ">Popular Documentation Pages</h3>
    
    <div style="
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 0.5rem;
    ">
      <a href="/installation/docker/" style="
        color: var(--mn-brand-primary, #673ab7);
        text-decoration: none;
        padding: 0.5rem;
        border-radius: 0.25rem;
        transition: background-color 0.2s;
      " onmouseover="this.style.backgroundColor='var(--mn-brand-primary)'; this.style.color='white';"
         onmouseout="this.style.backgroundColor='transparent'; this.style.color='var(--mn-brand-primary)';">
        üê≥ Docker Installation
      </a>
      
      <a href="/api/authentication/" style="
        color: var(--mn-brand-primary, #673ab7);
        text-decoration: none;
        padding: 0.5rem;
        border-radius: 0.25rem;
        transition: background-color 0.2s;
      " onmouseover="this.style.backgroundColor='var(--mn-brand-primary)'; this.style.color='white';"
         onmouseout="this.style.backgroundColor='transparent'; this.style.color='var(--mn-brand-primary)';">
        üîê API Authentication
      </a>
      
      <a href="/user-guides/media-management/" style="
        color: var(--mn-brand-primary, #673ab7);
        text-decoration: none;
        padding: 0.5rem;
        border-radius: 0.25rem;
        transition: background-color 0.2s;
      " onmouseover="this.style.backgroundColor='var(--mn-brand-primary)'; this.style.color='white';"
         onmouseout="this.style.backgroundColor='transparent'; this.style.color='var(--mn-brand-primary)';">
        üìÅ Media Management
      </a>
      
      <a href="/troubleshooting/common-issues/" style="
        color: var(--mn-brand-primary, #673ab7);
        text-decoration: none;
        padding: 0.5rem;
        border-radius: 0.25rem;
        transition: background-color 0.2s;
      " onmouseover="this.style.backgroundColor='var(--mn-brand-primary)'; this.style.color='white';"
         onmouseout="this.style.backgroundColor='transparent'; this.style.color='var(--mn-brand-primary)';">
        üîç Troubleshooting
      </a>
    </div>
  </div>
  
  <!-- Help contact -->
  <div style="margin-top: 2rem; text-align: center;">
    <p style="color: var(--md-default-fg-color--light); margin-bottom: 0.5rem;">
      Still can't find what you're looking for?
    </p>
    
    <a href="https://github.com/medianest/medianest/issues" 
       style="
         color: var(--mn-brand-primary, #673ab7);
         text-decoration: underline;
         font-weight: 500;
       ">
      Report an issue
    </a>
    
    <span style="color: var(--md-default-fg-color--light); margin: 0 0.5rem;">or</span>
    
    <a href="https://discord.gg/medianest" 
       style="
         color: var(--mn-brand-primary, #673ab7);
         text-decoration: underline;
         font-weight: 500;
       ">
      Join our Discord
    </a>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const searchInput = document.getElementById('error-search-input');
  const mainSearchInput = document.querySelector('.md-search__input');
  
  if (searchInput && mainSearchInput) {
    searchInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        
        // Transfer search to main search
        mainSearchInput.value = searchInput.value;
        mainSearchInput.focus();
        mainSearchInput.dispatchEvent(new Event('input'));
        
        // Scroll to top to show search results
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    });
  }
  
  // Track 404 error with analytics
  if (window.MediaNestAnalytics && window.MediaNestAnalytics.track) {
    window.MediaNestAnalytics.track('404_error', {
      requested_url: window.location.pathname,
      referrer: document.referrer || 'direct'
    });
  }
});
</script>

<style>
/* Responsive adjustments for 404 page */
@media screen and (max-width: 768px) {
  .medianest-404-page {
    padding: 2rem 1rem;
  }
  
  .medianest-404-page h1 {
    font-size: 3rem !important;
  }
  
  .medianest-404-links {
    flex-direction: column;
    align-items: center;
  }
  
  .medianest-404-popular {
    margin: 0 -1rem;
    border-radius: 0;
  }
}

/* Dark theme adjustments */
[data-md-color-scheme="slate"] .medianest-404-popular {
  background: var(--md-code-bg-color, #2a2a2a);
}
</style>
{% endblock %}